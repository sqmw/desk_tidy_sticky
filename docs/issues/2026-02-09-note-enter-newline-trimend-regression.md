# 2026-02-09 贴纸编辑回车换行失效回归修复

## 现象
在贴纸编辑框中按回车，换行会被自动保存后立即吞掉，表现为“不能新建一行”。

## 根因
- 文件：`src/routes/note/[id]/+page.svelte`
- `save()` 里将文本做了 `trimEnd()`，会裁剪末尾换行符。  
- 用户在文本末尾按回车时，末尾 `\n` 被去掉，造成换行看似无效。

## 修复
- 移除 `trimEnd()`，保存时保留原始换行结构，仅做命令展开：
  - `const transformed = expandNoteCommands(text);`

## 结果
贴纸编辑区回车可正常创建新行，自动保存不再吞掉末尾换行。
