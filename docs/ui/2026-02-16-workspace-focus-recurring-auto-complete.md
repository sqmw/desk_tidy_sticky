# 2026-02-16 ä¸“æ³¨ä»»åŠ¡ï¼šå‘¨æœŸä»»åŠ¡è‡ªåŠ¨å®Œæˆï¼ˆç§»é™¤æ‰‹åŠ¨å‹¾é€‰ï¼‰

## èƒŒæ™¯
- ç°æœ‰ `ä¸“æ³¨ä»»åŠ¡è§„åˆ’` è¡Œå†…æœ‰å¤é€‰æ¡†ï¼Œä¾èµ–æ‰‹åŠ¨å‹¾é€‰å®Œæˆã€‚
- å¯¹å‘¨æœŸæ€§ä»»åŠ¡ï¼ˆæ¯å¤©/å·¥ä½œæ—¥/è‡ªå®šä¹‰é‡å¤ï¼‰è€Œè¨€ï¼Œæ‰‹åŠ¨å‹¾é€‰ä¸ç¬¦åˆä½¿ç”¨å¿ƒæ™ºã€‚
- ç”¨æˆ·é¢„æœŸæ˜¯ï¼šè¾¾åˆ°ç›®æ ‡ç•ªèŒ„æ•°åï¼Œä»»åŠ¡å½“å¤©è‡ªåŠ¨è§†ä¸ºå®Œæˆã€‚

## æœ¬æ¬¡è°ƒæ•´
1. ç§»é™¤ Planner è¡Œå†…æ‰‹åŠ¨å¤é€‰æ¡† UIã€‚
2. å®Œæˆåˆ¤å®šæ”¹ä¸ºè‡ªåŠ¨è§„åˆ™ï¼š
   - `donePomodoros >= targetPomodoros` å³ä¸ºâ€œå½“å¤©å·²å®Œæˆâ€ã€‚
3. ä»Šæ—¥ä»»åŠ¡ï¼ˆå·¦ä¾§æˆªæ­¢/ä»»åŠ¡é¢æ¿ï¼‰è¿‡æ»¤è§„åˆ™åŒæ­¥æ”¹ä¸ºè‡ªåŠ¨å®Œæˆåˆ¤å®šã€‚
4. ä»Šæ—¥ç»Ÿè®¡é‡Œçš„â€œå®Œæˆæ•°â€åŒæ­¥æ”¹ä¸ºè‡ªåŠ¨å®Œæˆåˆ¤å®šã€‚

## ä»£ç å˜æ›´
- `src/lib/components/workspace/focus/WorkspaceFocusPlannerTaskItem.svelte`
  - åˆ é™¤å¤é€‰æ¡†ä¸ `onToggleTaskDone` äº¤äº’å…¥å£ã€‚
  - ä¿ç•™ç•ªèŒ„è¿›åº¦æ˜¾ç¤ºï¼ˆ`ğŸ… done/target`ï¼‰ã€‚

- `src/lib/components/workspace/focus/WorkspaceFocusPlanner.svelte`
  - åˆ é™¤ `onToggleTaskDone` é€ä¼ é“¾è·¯ã€‚
  - åˆ é™¤ `completed` å…¥å‚ä¼ é€’ã€‚

- `src/lib/components/workspace/WorkspaceFocusHub.svelte`
  - åˆ é™¤æ‰‹åŠ¨å‹¾é€‰å¤„ç†å‡½æ•°ä¸å›è°ƒç»‘å®šã€‚
  - `plannerCompletedCount` æ”¹ä¸ºæŒ‰è‡ªåŠ¨å®Œæˆè§„åˆ™è®¡ç®—ã€‚

- `src/lib/workspace/focus/focus-runtime.js`
  - æ–°å¢ `isFocusTaskCompleted(task, todayStats)`ã€‚
  - `buildTodaySummary` æ”¹ä¸ºåŸºäºè¯¥å‡½æ•°è®¡ç®— `completedCount`ã€‚
  - åˆ é™¤ä¸å†ä½¿ç”¨çš„ `toggleTaskDoneInStats`ã€‚

- `src/lib/workspace/focus/focus-deadlines.js`
  - ä»Šæ—¥ä»»åŠ¡è¿‡æ»¤æ”¹ä¸ºè°ƒç”¨ `isFocusTaskCompleted`ï¼Œä¸å†ä¾èµ– `completedTaskIds`ã€‚

## å…¼å®¹è¯´æ˜
- å†å²ç»Ÿè®¡ç»“æ„ä¸­çš„ `completedTaskIds` å­—æ®µä¿ç•™ï¼ˆå…¼å®¹æ—§æ•°æ®ï¼‰ï¼Œä½†æ–°é€»è¾‘ä¸å†ä¾èµ–è¯¥å­—æ®µã€‚
- ä¸å½±å“æ—¢æœ‰ç•ªèŒ„ç´¯è®¡ã€ä»»åŠ¡ç¼–è¾‘ã€ä»»åŠ¡åˆ é™¤ã€å‘¨æœŸç­›é€‰é€»è¾‘ã€‚

## éªŒè¯ç‚¹
1. å‘¨æœŸä»»åŠ¡ä¸“æ³¨è¾¾åˆ°ç›®æ ‡ç•ªèŒ„åï¼Œä»Šæ—¥ä»»åŠ¡åˆ—è¡¨è‡ªåŠ¨éšè—è¯¥ä»»åŠ¡ã€‚
2. ä»Šæ—¥ç»Ÿè®¡â€œå®Œæˆæ•°â€éšç•ªèŒ„è¿›åº¦è‡ªåŠ¨å˜åŒ–ï¼Œä¸éœ€è¦æ‰‹åŠ¨å‹¾é€‰ã€‚
3. Planner åˆ—è¡¨æ— å¤é€‰æ¡†ï¼Œä»å¯æ­£å¸¸å¼€å§‹/ç¼–è¾‘/åˆ é™¤ä»»åŠ¡ã€‚
