# 2026-02-09 Markdown 支持清单

## 结论
当前不是“完整 CommonMark/GFM 全量支持”，而是贴纸场景下的高频子集 + 安全内联 `span`。

## 已支持（当前）
1. 标题：`#` ~ `###`
2. 段落与换行（段内 `<br/>`）
3. 粗体与斜体：`**text**`、`*text*`
4. 行内代码与代码块：`` `code` ``、``` ``` ````
5. 引用：`> quote`
6. 无序/有序列表：`- item`、`1. item`
7. 任务列表：`- [ ]` / `- [x]`
8. 表格（基础）：`|` 行 + 分隔行
9. 分割线：`---` / `***` / `___`
10. 链接：`[text](https://...)` 与裸链接自动识别
11. 图片：`![alt](src)`，支持：
 - `https://...`
 - `asset://...`（本地落盘资源 URL）
 - 相对路径（如 `./img/a.png`、`../a.png`、`/assets/a.png`）
 - `data:image/...;base64,...`
 - 可选 title：`![alt](src "title")`
 - 尺寸扩展：`![alt](src){w=240}`、`![alt](src){w=50%,h=120}`
 - 图片可嵌入段落内（如 `文本 + 图片 + 文本`）
12. 内联 `span`（安全白名单）：
 - `class`
 - `style` 允许：`color`、`background-color`、`background`、`font-weight`、`font-style`、`text-decoration`、`font-size`、`line-height`
 - 兼容常见误写：`backgroud` 会按 `background` 处理

## 未支持 / 暂不支持
1. 原生任意 HTML 标签直通（仅 `span` 做白名单透传）
2. 标题等级 `####` ~ `######`
3. 嵌套列表、复杂多级 block 结构
4. 表格对齐语义渲染（仅基础表格）
5. 脚注、定义列表、目录、数学公式等扩展语法
6. 代码高亮（仅纯文本代码块）

## 设计理由
1. 贴纸文本以快速记录为主，优先高频语法。
2. 避免完整 HTML 透传带来的注入风险。
3. 控制渲染复杂度，降低回归风险，便于后续渐进扩展。
